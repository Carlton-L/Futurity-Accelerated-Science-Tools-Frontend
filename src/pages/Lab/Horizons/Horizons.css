.horizon-label {
  fill: #b0b0b0;
  font-weight: bold;
  font-size: 13px;
}

.grid-lines text {
  fill: #b0b0b0;
  font-weight: bold;
}
.item-label {
  fill: #222;
  font-weight: normal;
}

/* CRITICAL: Let the container grow with content, allow overflow for labels */
.horizons-container {
  width: 100%;
  padding: 1.5rem;
  border: 1px solid #ddd;
  border-radius: 4px;
  display: flex;
  flex-direction: column;
  align-items: center;
  overflow: visible; /* Allow labels to overflow */
  margin-bottom: 2rem;
  /* REMOVED: Any height constraints */
}

[data-bs-theme='dark'] .horizons-container {
  background-color: #2a2a2a;
  color: #f2f5fa;
  border-color: #444;
}

[data-bs-theme='light'] .horizons-container {
  background-color: #ffffff;
  color: #333;
  border-color: #ddd;
}

.collision-info {
  font-size: 14px;
  margin: 5px 0 15px;
}

.collision-marker {
  color: #e94f37;
  font-size: 16px;
  margin-right: 5px;
}

.status-indicator text {
  font-style: italic;
}

[data-bs-theme='dark'] .status-indicator text {
  fill: #aaa;
}

[data-bs-theme='light'] .status-indicator text {
  fill: #666;
}

/* CRITICAL: Remove aspect-ratio and height constraints - let it grow naturally, allow overflow */
.horizons-chart {
  width: 100%;
  /* REMOVED: aspect-ratio: 1 / 1; - this was forcing a square shape */
  /* REMOVED: height: auto; - let D3 control the height */
  display: flex;
  align-items: center;
  justify-content: center;
  margin: 2rem 0;
  padding: 0.5rem;
  min-width: 0;
  /* REMOVED: min-height: 0; */
  /* REMOVED: max-width: 70vw; - don't constrain width */
  /* REMOVED: max-height: 70vh; - don't constrain height */
  box-sizing: border-box;
  overflow: visible; /* Allow labels to overflow beyond chart boundaries */
}

.horizons-chart svg {
  width: 100%; /* Take full width */
  height: auto; /* Let height be determined by content */
  overflow: visible; /* Allow SVG content to overflow for labels */
  /* REMOVED: max-width: 100%; - not needed */
}

.horizons-container .x-axis path,
.horizons-container .y-axis path,
.horizons-container .x-axis line,
.horizons-container .y-axis line {
  stroke: none;
}

.horizons-container .x-axis text {
  font-size: 13px;
  font-weight: 500;
  transform: translateY(8px); /* Add more padding below horizon labels */
}

.horizons-container .y-axis text {
  font-size: 12px;
  transform: translateX(-5px);
}

[data-bs-theme='dark'] .horizons-container .x-axis text,
[data-bs-theme='dark'] .horizons-container .y-axis text {
  fill: #f2f5fa;
}

[data-bs-theme='light'] .horizons-container .x-axis text,
[data-bs-theme='light'] .horizons-container .y-axis text {
  fill: #2a3f5f;
}

.horizons-container .horizon-background {
  pointer-events: none;
  stroke: none;
}

.horizons-container .horizon-divider {
  stroke-width: 1px;
  stroke-dasharray: 3, 3;
  pointer-events: none;
}

[data-bs-theme='dark'] .horizons-container .horizon-divider {
  stroke: rgba(255, 255, 255, 0.3);
}

[data-bs-theme='light'] .horizons-container .horizon-divider {
  stroke: rgba(0, 0, 0, 0.2);
}

.legend text {
  font-size: 12px;
}

[data-bs-theme='dark'] .legend text {
  fill: #f2f5fa;
}

[data-bs-theme='light'] .legend text {
  fill: #2a3f5f;
}

.item-label {
  font-family: sans-serif;
  pointer-events: none;
  font-weight: 500; /* Make text slightly bolder */
  paint-order: stroke fill;
  stroke: rgba(255, 255, 255, 0.5);
  stroke-width: 0.5px;
}

[data-bs-theme='dark'] .item-label {
  fill: #ffffff;
  stroke: rgba(0, 0, 0, 0.3);
}

[data-bs-theme='light'] .item-label {
  fill: #2a3f5f;
  stroke: rgba(255, 255, 255, 0.7);
}

.horizons-container .colliding-label {
  fill: #e94f37 !important; /* Red color for colliding labels */
  font-weight: 700 !important;
  stroke-width: 1px !important;
}

[data-bs-theme='dark'] .horizons-container .colliding-label {
  stroke: rgba(0, 0, 0, 0.5) !important;
}

[data-bs-theme='light'] .horizons-container .colliding-label {
  stroke: rgba(255, 255, 255, 0.9) !important;
}

.horizons-container .data-preview {
  margin-top: 1.5rem;
  background-color: rgba(0, 0, 0, 0.05);
  padding: 0.5rem;
  border-radius: 4px;
  overflow: auto;
  width: 100%;
  max-width: 800px;
}

[data-bs-theme='dark'] .horizons-container .data-preview {
  background-color: rgba(255, 255, 255, 0.05);
}

.horizons-container .data-preview pre {
  font-size: 0.85rem;
  margin: 0;
}

.horizons-container .text-muted.small {
  color: #6c757d;
  font-size: 0.875rem;
  margin-top: -0.5rem;
  margin-bottom: 1rem;
  text-align: center;
}
